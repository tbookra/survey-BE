(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{71:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(19),s=n.n(a),o=n(35),i=(n(71),n(8)),l=n(115),u=n(98),j=n(2);function b(){return Object(j.jsx)(l.a,{style:{textAlign:"center",marginTop:"20%"},children:Object(j.jsx)(u.a,{variant:"h4",color:"primary",children:"Thank you for taking part of this survey!!!"})})}function d(){return Object(j.jsx)("div",{children:Object(j.jsx)(u.a,{variant:"h3",style:{textAlign:"center",marginTop:"20%"},gutterBottom:!0,children:"Oops Error 404 Page not found"})})}function O(){return Object(j.jsx)("div",{children:Object(j.jsx)(u.a,{variant:"h3",style:{textAlign:"center",marginTop:"20%"},gutterBottom:!0,children:"wellcome to RT-ED Survey"})})}var h=n(20),x=n.n(h),p=n(31),v=n(17),f=n(23),m=n(120),g=n(118),y=n(26),S=n(122),w=n(124),k=n(123),N=n(119),q=n(121),I=n(60),T=n.n(I).a.create({baseURL:"https://rt-test.xyz:3099"}),A=n(117);function C(e){var t=e.handleclick;return Object(j.jsx)("div",{children:Object(j.jsx)(A.a,{type:"submit",variant:"outlined",color:"primary",onClick:function(e){return t(e)},style:{margin:"5% ",position:"relative",top:"5%",right:"-70%"},children:"Send Survey"})})}var U="SUCCESSFULL_SENT",E=Object(g.a)((function(e){return{nonAswered:{backgroundColor:"red"}}}));function _(e){for(var t=e.qustionsArray,n=e.studentId,c=e.courseId,a=Object(f.b)(),s=Object(r.useState)({}),o=Object(v.a)(s,2),i=o[0],b=o[1],d=Object(r.useState)("first"),O=Object(v.a)(d,2),h=(O[0],O[1],E(),{}),m=0;m<t.length;m++)h[t[m].question_id]=!1;var g={},I=function(e){var t=e.target.name,r=t.trim(),a=e.target.value;g[t]={trimNam:r,val:a,studentId:n,courseId:c},h[r]=!0},A=function(){var e=Object(p.a)(x.a.mark((function e(t){var n,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,b(Object(y.a)(Object(y.a)({},i),{},{resultObject:g})),0!==(n=_(h)).length){e.next=12;break}return e.next=7,T.post("/rt-ed_survey",{resultObject:g});case 7:r=e.sent,c=r.data.successfull,a((s=c,console.log("action",s),{type:U,payload:s})),e.next=14;break;case 12:console.log("not all questions replied!!!!",n),window.location.hash=n[0];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}var s}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=[];for(var n in e)e[n]||t.push(n);return t};return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{children:[t.map((function(e,t){return Object(j.jsx)(l.a,{style:{direction:"rtl",marginTop:"5%"},children:Object(j.jsxs)(S.a,{component:"div",id:e.question_id,children:[Object(j.jsxs)(w.a,{component:"div",children:[Object(j.jsxs)(u.a,{variant:"span",color:"secondary",children:[t+1,")"]})," ",e.questions," ",e.Anonymous?"(Anonymous)":""]}),Object(j.jsx)(k.a,{"aria-label":"q"+e.question_id,name:e.question_id+" ",style:{marginTop:"3%"},children:e.answer.map((function(e){return Object(j.jsx)(N.a,{value:e.answer,label:e.answer,control:Object(j.jsx)(q.a,{}),onChange:I},"d"+Math.random())}))})]})},"g"+Math.random())})),Object(j.jsx)("br",{}),Object(j.jsx)(C,{handleclick:A})]})})}var L=function(e){for(var t=0,n="",r="",c=0;c<e.length;c++)"/"===e[c]&&t++,3===t&&"/"!==e[c].toString()&&(n+=e[c].toString()),4===t&&"/"!==e[c].toString()&&(r+=e[c].toString());return[n,r]},R=Object(g.a)((function(e){return{root1:{width:"60%"},intro:{margin:"3%",width:"100%"},introtable:{width:"100%"},introRows:{height:"50px"},questions:{width:"100%",position:"relative",top:"95%",right:"5%"},circular:{position:"absolute",top:"15%",left:"45%"},button:{margin:e.spacing(1,1,0,0)}}}));function F(){var e=R(),t=Object(i.g)(),n=Object(i.h)().ecodedUrl,c=atob(n).toString();console.log("decodedParams",c);var a=L(c),s=Object(v.a)(a,2),o=s[0],b=s[1];console.log("getUrlInfo",o,b);var d=Object(r.useState)("Student"),O=Object(v.a)(d,2),h=O[0],g=O[1],y=Object(r.useState)({}),S=Object(v.a)(y,2),w=S[0],k=S[1],N=Object(r.useState)("Real Time Group"),q=Object(v.a)(N,2),I=q[0],A=q[1],C=Object(r.useState)(["question1..."]),U=Object(v.a)(C,2),E=U[0],F=U[1],B=Object(f.c)((function(e){return e.survey})).successfullSent,M=Object(r.useState)(!1),P=Object(v.a)(M,2),D=P[0],G=P[1],J=Object(r.useState)(!0),z=Object(v.a)(J,2);z[0],z[1];return Object(r.useEffect)((function(){Object(p.a)(x.a.mark((function e(){var r,c,a,s,i,l,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("successfullSent",B),B&&t.replace("/".concat(n,"/thanks")),o&&b){e.next=7;break}G(!0),e.next=26;break;case 7:return e.next=9,T.get("/studetInfo/".concat(o));case 9:if(r=e.sent,c=r.data,a=c.studentInfo,!c.error){e.next=17;break}G(!0),e.next=25;break;case 17:return e.next=19,T.get("/rt-ed_survey/".concat(o,"/").concat(b));case 19:s=e.sent,i=s.data,l=i.questionObj,u=i.course,i.error?G(!0):(F(l),g("".concat(a[0][0].firstName," ").concat(a[0][0].familyName)),k({phone:a[0][0].mobileNumber,email:a[0][0].email}),A(u[0][0].courseName));case 25:case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})))()}),[B,t,o,b,n]),Object(j.jsx)(l.a,{children:D?Object(j.jsx)(i.a,{to:"".concat(n,"/page404")}):E.length>1?Object(j.jsxs)(l.a,{disableGutters:!0,className:e.root1,children:[Object(j.jsxs)(u.a,{variant:"h4",align:"center",color:"primary",children:["Survey for course ",I]}),Object(j.jsx)(l.a,{className:e.intro,children:Object(j.jsx)("table",{className:e.introtable,children:Object(j.jsxs)("tbody",{children:[Object(j.jsx)("tr",{className:e.introRows,children:Object(j.jsx)("td",{children:Object(j.jsxs)(u.a,{color:"primary",children:["Course Name: ",I]})})}),Object(j.jsxs)("tr",{className:e.introRows,children:[Object(j.jsx)("td",{children:Object(j.jsxs)(u.a,{color:"primary",children:["Student Name: ",h]})}),Object(j.jsx)("td",{children:Object(j.jsxs)(u.a,{color:"primary",children:["EMAIL: ",w.email]})})]})]})})}),"  ",Object(j.jsx)(l.a,{children:Object(j.jsx)(_,{qustionsArray:E,studentId:o,courseId:b})})]}):Object(j.jsx)(m.a,{className:e.circular,variant:"determinate",value:75})})}var B=function(){return Object(j.jsx)(l.a,{children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{exact:!0,path:"/",children:Object(j.jsx)(O,{})}),Object(j.jsx)(i.b,{exact:!0,path:"/:ecodedUrl",children:Object(j.jsx)(F,{})}),Object(j.jsx)(i.b,{exact:!0,path:"/:ecodedUrl/thanks",children:Object(j.jsx)(b,{})}),Object(j.jsx)(i.b,{exact:!0,path:"/:ecodedUrl/page404",children:Object(j.jsx)(d,{})})]})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},P=n(22),D=n(61),G={survey:{successfullSent:!1}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G.survey,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(y.a)(Object(y.a)({},e),{},{successfullSent:t.payload});default:return e}},z=Object(P.c)({survey:J}),H=Object(P.d)(z,Object(P.a)(D.a));s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(f.a,{store:H,children:Object(j.jsx)(B,{})})})}),document.getElementById("root")),M()}},[[97,1,2]]]);
//# sourceMappingURL=main.f185b2f0.chunk.js.map